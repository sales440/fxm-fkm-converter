# Nixpacks configuration for Railway
# Solo define entorno y build. El arranque se maneja vía Procfile.

providers = ["node"]

[phases.setup]
nixPkgs = ["nodejs_22", "pnpm-9_x"]

[phases.install]
# Mantenemos --no-frozen-lockfile por seguridad
cmds = ["pnpm install --no-frozen-lockfile"]

[phases.build]
cmds = ["pnpm build"]

# Eliminada sección [start] para evitar conflictos. Procfile tiene prioridad.
